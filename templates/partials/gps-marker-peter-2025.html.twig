<html>
<head>
<base target="_top">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
     integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
     crossorigin=""/>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
     integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
     crossorigin=""></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet-easybutton@2/src/easy-button.css">
<script src="https://cdn.jsdelivr.net/npm/leaflet-easybutton@2/src/easy-button.js"></script>



   
<style>
	
		.leaflet-container {
			height: 300px;
			width: 800px;
			max-width: 100%;
			max-height: 100%;
		}
		
		

		
</style>
   
  
</head>



<body>



{% if ort1 == "" %}
Kein Ort1 angegeben. Daten können nicht gelesen werden
<br>
Folgendes Ergänzen:  set ort1 = "xxx" set lat1= xxxx  set lon1= xxx 

{% else %}

 

<!-- Die Karte wird hier angezeigt -->    
<div id="map"></div>    





<script>

 

 
var lat =  '{{ lat1 }}';
var lon = '{{ lon1 }}';
var zoom = 15;

    
	
var map = L.map('map').setView([lat, lon], zoom);
   
L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19,
    attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
    

}).addTo(map);

/// das macht ein Home Button auf die Karte

L.easyButton('fa-home', function(btn, map){
    var zuhause = [lat,lon];
    map.setView(zuhause, zoom);
}).addTo(map);

// das öffnet ein popup
var helloPopup = L.popup().setContent('Hallo Besucher!');

L.easyButton('fa-globe', function(btn, map){
    helloPopup.setLatLng(map.getCenter()).openOn(map);
}).addTo(map);
/////////////////7   
   
var marker = L.marker([lat, lon]).addTo(map);
    
    
// var circle = L.circle([lat, lon], {
//    color: 'red',
//    fillColor: '#f03',
//    fillOpacity: 0.5,
//    radius: 500
//}).addTo(map);    


//marker.bindPopup("{{ ort1 }}").openPopup();
//circle.bindPopup("Ich bin ein Kreis. HaHa");


var popup = L.popup()
    .setLatLng([lat, lon])
    .setContent("{{ ort1 }} Das Ziel unserer Reise")
    .openOn(map);


var popup = L.popup();

//function onMapClick(e) {
//    popup
//        .setLatLng(e.latlng)
//        .setContent("Du hast auf die Koordinaten geklickt:" + e.latlng.toString())
//        .openOn(map);
//}
//
//map.on('click', onMapClick);    


//////////////////7









    
</script>

{% endif %}

</body>
</html>
